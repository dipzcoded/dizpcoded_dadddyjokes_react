(this["webpackJsonpdad-jokes-react"]=this["webpackJsonpdad-jokes-react"]||[]).push([[0],{17:function(e,t,a){},21:function(e,t,a){e.exports=a(50)},26:function(e,t,a){},27:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(18),s=a.n(c),r=(a(26),a(27),a(7)),l=a(4),i=a.n(l),m=a(5),u=a(19),v=a(6),f=a(20),k=a.n(f),d=(a(46),function(e){var t=e.getMoreJokes;return o.a.createElement("div",{className:"Jokesidebar"},o.a.createElement("h1",{className:"Jokesidebar__title"}," ",o.a.createElement("span",null,"Dad"),"Jokes"),o.a.createElement("img",{src:"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg",alt:"smily"}),o.a.createElement("button",{className:"Jokesidebar__btn",onClick:function(){t()}},"Fetch Jokes"))}),g=(a(47),a(48),function(e){var t=e.jokeData,a=e.votes;return o.a.createElement("div",{className:"JokeItem"},o.a.createElement("div",{className:"JokeItem__btn"},o.a.createElement("i",{className:"fas fa-arrow-up",onClick:function(){a(t.id,1)}}),o.a.createElement("span",{className:"JokeItem__votes",style:{border:"3px solid ".concat(t.votes>=15?"#4CAF50":t.votes>=12?"#8BC34A":t.votes>=9?"#CDDC39":t.votes>=6?"#FFEB3B":t.votes>=3?"#FFC107":t.votes>=0?"#FF9800":"#F44336")}},t.votes),o.a.createElement("i",{className:"fas fa-arrow-down",onClick:function(){a(t.id,-1)}})),o.a.createElement("div",{className:"JokeItem__text"},t.joke),o.a.createElement("div",{className:"JokeItem__smily"},o.a.createElement("i",{className:"".concat(t.votes>=15?"em em-rolling_on_the_floor_laughing":t.votes>=12?"em em-laughing":t.votes>=9?"em em-smiley":t.votes>=6?"em em-slightly_smiling_face":t.votes>=3?"em em-neutral_face":t.votes>=0?"em em-confused":"em em-angry"),"aria-role":"presentation","aria-label":"BIRD"})))}),p=function(e){var t=e.jokes,a=e.votes;return o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"Joke__list"},t.map((function(e){return o.a.createElement(g,{key:e.id,jokeData:e,votes:a})}))))},E=(a(17),function(){return o.a.createElement(n.Fragment,null,o.a.createElement("div",{className:"Joke__spinner"},o.a.createElement("i",{className:"far fa-8x fa-laugh fa-spin"}),o.a.createElement("h1",{className:"Joke__title"},"loading.....")))}),j=a(52),h=function(e){var t=e.numJokesToGet,a=Object(n.useState)(JSON.parse(localStorage.getItem("jokes"))||[]),c=Object(v.a)(a,2),s=c[0],l=c[1],f=Object(n.useState)(!1),g=Object(v.a)(f,2),h=g[0],b=g[1],J=function(){var e=Object(u.a)(i.a.mark((function e(){var a,n,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=[];case 2:if(!(a.length<t)){e.next=10;break}return e.next=5,k.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}});case 5:n=e.sent,o=n.data.joke,_.has(o)?(console.log("Founded duplicate"),console.log(o)):a.push({joke:o,votes:0,id:Object(j.a)()}),e.next=2;break;case 10:l([].concat(Object(m.a)(s),a)),b(h),localStorage.jokes?(c=[].concat(Object(m.a)(JSON.parse(localStorage.getItem("jokes"))),a),localStorage.setItem("jokes",JSON.stringify(c))):localStorage.setItem("jokes",JSON.stringify(a)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),b(h);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){0===s.length&&(b(!h),J())}),[" "]);var _=new Set(s.map((function(e){return e.joke})));console.log(_);var N=s.sort((function(e,t){return t.votes-e.votes}));return o.a.createElement("div",{className:"Joke"},h?o.a.createElement(E,null):o.a.createElement(n.Fragment,null,o.a.createElement(d,{getMoreJokes:function(){b(!h),J()}}),o.a.createElement(p,{jokes:N,votes:function(e,t){var a=s.map((function(a){return a.id===e?Object(r.a)(Object(r.a)({},a),{},{votes:a.votes+t}):a}));l(a),localStorage.jokes&&localStorage.removeItem("jokes"),localStorage.setItem("jokes",JSON.stringify(a))}})))};h.defaultProps={numJokesToGet:10};var b=h;var J=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(49);s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.1370d6d6.chunk.js.map